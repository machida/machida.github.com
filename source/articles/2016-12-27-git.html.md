---
title: Gitでよく使うコマンドのまとめ
tags: git
---

## 前提

- リモートリポジトリは github
- Fork はしないで、みんな origin で作業をしている場合。
- メインのブランチは master

## 基本

### clone

リモートのリポジトリをローカルに持ってくる。

```bash
$ git clone git@github.com:XXX/XXXX {ディレクトリ名}
```

### fetch

リモートのリポジトリの全てのブランチをローカルに持ってくる。

```bash
$ git fetch origin
```

### branch

ローカルにブランチを作る。

```bash
$ git branch {ブランチ名}
```

ブランチ名を変更する。

```bash
git branch -m {新しいブランチ名}
```

### checkout

作ったローカルブランチに移動し、そのブランチで作業する。

```bash
$ git checkout {ブランチ名}
```

### status

作業をしたがまだコミットされていないファイルを確認。

```bash
$ git status
```

### add

作業をしたがまだコミットされていないファイルを追加。

```bash
$ git add {ファイル名}
```

### commit

手元で行った作業内容を保存。

```bash
$ git commit -m"{作業内容（コミットメッセージ）}"
```

### push

作ったローカルブランチをリモートに送る。

```bash
$ git push origin {ブランチ名}
```

### masterブランチに戻る

```bash
$ git checkout master
```

## 削除

### リモートブランチ削除

```bash
git push origin :XXXX
```

### ローカルブランチ削除

```bash
git branch -D product
```

## rebase

ブランチで作業をしている間にその派生元のXXXブランチが更新されたので、XXXブランチの変更を今作業しているブランチに取り込む。

```bash
$ git pull --rebase origin XXX
```

### コンフリクトが起きた場合

コンフリクトが起きたファイルを開いて、コンフリクトを解消した後、そのファイルを `git add` して、

```bash
$ git rebase --continue
```

今回のコンフリクトが起きた分の更新は取り込まない場合。

```bash
$ git rebase --skip
```

rebase を取り止める。

```bash
$ git rebase --abort
```

## なかったことにする

### commit

commit をなかったことにするが、編集内容は残す。

```bash
$ git reset --soft HEAD^
```

commit をなかったことにし、編集内容も削除。

```bash
$ git reset --hard HEAD^
```

ファイルの追加忘れ。ファイルを追加した後に、

```bash
$ git commit --amend
```

コミットメッセージ修正。

```bash
$ git commit --amend
```

### add

すでに git 管理されていたファイルの場合。

```bash
$ git reset HEAD {ファイル名}
```

自分で新規に追加したファイルの場合。

```bash
$ git rm --cached {ファイル名}
```

### pull

```bash
$ git reset HEAD^ --hard
```

### rm

```bash
$ git checkout HEAD -- {ファイル名}
```

### stash pop

```bash
$ git reset --hard
```
